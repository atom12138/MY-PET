(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/pet-profile/add-or-update"],{"4d23":function(e,t,n){"use strict";n.r(t);var r=n("b8de"),a=n("b378");for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("8799");var o=n("828b"),u=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"012be66b",null,!1,r["a"],void 0);t["default"]=u.exports},8799:function(e,t,n){"use strict";var r=n("a73a"),a=n.n(r);a.a},a73a:function(e,t,n){},b378:function(e,t,n){"use strict";n.r(t);var r=n("e2e1"),a=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=a.a},b8de:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var r=function(){var e=this.$createElement;this._self._c},a=[]},e2e1:function(e,t,n){"use strict";(function(e){var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("7eb4")),i=r(n("7ca3")),o=r(n("ee10"));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={data:function(){return{form:{id:null,name:"",weight:"",type:"",age:"",medicalHistory:""},user:{},typeOptions:["请选择类型","猫","狗","其他"],typeIndex:0,isCustomType:!1}},onLoad:function(e){this.init(e.id)},methods:{init:function(t){var n=this;return(0,o.default)(a.default.mark((function r(){var i,o,u,s;return a.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=e.getStorageSync("nowTable"),r.next=3,n.$api.session(i);case 3:if(o=r.sent,n.user=o.data,!t){r.next=10;break}return r.next=8,n.$api.info("chongwudangan",t);case 8:u=r.sent,0===u.code&&(n.form=u.data,s=n.typeOptions.indexOf(n.form.type),s>0?(n.typeIndex=s,n.isCustomType=!1):n.form.type&&(n.typeIndex=n.typeOptions.indexOf("其他"),n.isCustomType=!0));case 10:case"end":return r.stop()}}),r)})))()},bindPickerChange:function(e){this.typeIndex=e.target.value;var t=this.typeOptions[this.typeIndex];"其他"===t?(this.isCustomType=!0,this.form.type=""):"请选择类型"===t?(this.isCustomType=!1,this.form.type=""):(this.isCustomType=!1,this.form.type=t)},saveProfile:function(){var t=this;return(0,o.default)(a.default.mark((function n(){var r;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.form.name){n.next=2;break}return n.abrupt("return",e.showToast({title:"请输入宠物姓名",icon:"none"}));case 2:if(t.form.type&&"请选择类型"!==t.form.type){n.next=4;break}return n.abrupt("return",e.showToast({title:"请选择或输入类型",icon:"none"}));case 4:if(t.form.weight){n.next=6;break}return n.abrupt("return",e.showToast({title:"请输入体重",icon:"none"}));case 6:if(t.form.age){n.next=8;break}return n.abrupt("return",e.showToast({title:"请输入年龄",icon:"none"}));case 8:if(t.form.medicalHistory){n.next=10;break}return n.abrupt("return",e.showToast({title:"请输入病史，若无请填“无”",icon:"none"}));case 10:if(r=s(s({},t.form),{},{userid:t.user.id}),!t.form.id){n.next=16;break}return n.next=14,t.$api.update("chongwudangan",r);case 14:n.next=18;break;case 16:return n.next=18,t.$api.add("chongwudangan",r);case 18:e.showToast({title:"保存成功",icon:"success"}),setTimeout((function(){e.navigateBack()}),1e3);case 20:case"end":return n.stop()}}),n)})))()}}};t.default=c}).call(this,n("df3c")["default"])},ff93:function(e,t,n){"use strict";(function(e,t){var r=n("47a9");n("35f8");r(n("3240"));var a=r(n("4d23"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])}},[["ff93","common/runtime","common/vendor"]]]);